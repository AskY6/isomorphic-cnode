(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{362:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"initialState",function(){return f});var a=n(355),o=n(1),c=n.n(o),i=(n(48),n(22)),u=n(354);function s(e){e.state;var t=e.handlers;return c.a.createElement(u.a,null,c.a.createElement("div",{className:"add-container"},c.a.createElement("div",{className:"line"},"\u9009\u62e9\u5206\u7c7b\uff1a",c.a.createElement(p,null)," ",c.a.createElement("a",{className:"add-btn",onClick:t.handlePublish},"\u53d1\u5e03")),c.a.createElement("div",{className:"line"},c.a.createElement(i.Input,{name:"title",className:"add-title",placeholder:"\u6807\u9898\uff0c\u5b57\u657010\u5b57\u4ee5\u4e0a",maxLength:"100"})),c.a.createElement(i.Input,{as:"textarea",name:"content",className:"add-content",placeholder:"\u56de\u590d\u652f\u6301Markdown\u8bed\u6cd5,\u8bf7\u6ce8\u610f\u6807\u8bb0\u4ee3\u7801",rows:"35"})))}var l=[{type:"share",text:"\u5206\u4eab"},{type:"ask",text:"\u95ee\u7b54"},{type:"job",text:"\u62db\u8058"}];function p(){return c.a.createElement(i.Input,{as:"select",name:"tab",className:"add-tab"},l.map(function(e){var t=e.type,n=e.text;return c.a.createElement("option",{value:t,key:t},n)}))}var f={pageTitle:"\u6dfb\u52a0",showAddButton:!1,tab:"share",title:"",content:"",errorTypeList:[]};function d(e){return(d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t,n,r,a,o,c){try{var i=e[o](c),u=i.value}catch(s){return void n(s)}i.done?t(u):Promise.resolve(u).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function c(e){h(o,r,a,c,i,"next",e)}function i(e){h(o,r,a,c,i,"throw",e)}c(void 0)})}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"default",function(){return g});var g=function(e){function t(){var e,n,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,i=new Array(c),u=0;u<c;u++)i[u]=arguments[u];return a=this,o=(e=b(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==d(o)&&"function"!==typeof o?v(a):o,w(v(v(n)),"KeepAlive",!0),w(v(v(n)),"NeedLogin",!0),w(v(v(n)),"View",s),w(v(v(n)),"Model",r),w(v(v(n)),"handlePublish",m(regeneratorRuntime.mark(function e(){var t,r,a,o,c,i,u,s,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.store.getState(),r=n.cookie("accesstoken"),a=t.title,o=t.tab,c=t.content,!(a.length<10)){e.next=6;break}return n.showAlert("\u6807\u9898\u4e0d\u80fd\u5c11\u4e8e 10 \u5b57"),e.abrupt("return");case 6:if(0!==c.length){e.next=9;break}return n.showAlert("\u6b63\u6587\u4e0d\u80fd\u4e3a\u7a7a"),e.abrupt("return");case 9:return i={accesstoken:r,title:a,tab:o,content:c},n.showLoading("\u53d1\u5e03\u4e2d\u2026\u2026"),e.prev=11,e.next=14,n.post("/topics",i);case 14:u=e.sent,s=u.topic_id,l="/topic/".concat(s),n.removeFromCache(),n.history.replace(l),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(11),n.showAlert(e.t0.message);case 24:n.hideLoading();case 25:case"end":return e.stop()}},e,this,[[11,21]])}))),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,a["a"]),t}()}}]);